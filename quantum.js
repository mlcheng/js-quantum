/***********************************************

  "quantum.js"

  Created by Michael Cheng on 02/04/2016 21:46
            http://michaelcheng.us/
            michael@michaelcheng.us
            --All Rights Reserved--

***********************************************/
"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var iqwerty=iqwerty||{};iqwerty.binding=function(){function t(e,n,o){o instanceof Array||(o=[o]),t.prototype.setId(e),t.prototype.updateBindings(e[r],n,o,e[n]),t.prototype.updateViews(e[r],n),o.forEach(function(t){"input"===t.tagName.toLowerCase()&&t.addEventListener("input",function(){e[n]=t.value})}),Object.defineProperty(e,n,{get:function(){return t.prototype.Bindings[e[r]][n].value},set:function(o){t.prototype.Bindings[e[r]][n].value=o,t.prototype.updateViews(e[r],n)},configurable:!0})}function e(e){setTimeout(function(){var n=document.querySelectorAll("["+a+"]");0!==n.length&&([].slice.call(n).forEach(function(n){var o=n.dataset.iqBind;if(o=new RegExp(u).exec(o)){var r=o[1],i=e[r];t(i,o[2],n),o=null,r=null,i=null}}),n=null)},0)}function n(e){setTimeout(function(){var n=document.querySelectorAll("["+l+"]");0!==n.length&&([].slice.call(n).forEach(function(n){var o=n.dataset.iqBindScope,r="{ *?"+(o?i:u)+" *?}";r=new RegExp(r,"g");var a,l=[];do a=r.exec(n.innerHTML),a&&l.push({matched:a[0],obj:o||a[1],prop:(o?a[1]:a[2]).trim(),id:p+"-"+t.prototype.getId()});while(a);a=null;var d=n.innerHTML;l.forEach(function(t){var e=document.createElement("span");e.classList.add(p),e.id=t.id,d=d.replace(t.matched,e.outerHTML),e=null}),n.innerHTML=d,d=null,l.forEach(function(n){var o=e[n.obj],r=document.getElementById(n.id);t(o,n.prop,r),r.removeAttribute("id"),o=null,r=null}),o=null,r=null,l=null}),n=null)},0)}function o(o){Object.keys(o).forEach(function(e){t.prototype.setId(o[e]),t.prototype.addBinding(o[e])}),e(o),n(o)}var r="$$id",i="([^.}]+)",u=i+"."+i,a="data-iq-bind",l="data-iq-bind-scope",p="iq-bind";return t.prototype.Bindings={},t.prototype.addBinding=function(e){var n=t.prototype.Bindings;n[e[r]]||(n[e[r]]={},n=null)},t.prototype.updateBindings=function(e,n,o,r){var i,u=t.prototype.Bindings;u[e]||(u[e]={}),u[e][n]||(u[e][n]={elems:[],value:r}),(i=u[e][n].elems).push.apply(i,_toConsumableArray(o)),u=null},t.prototype.updateViews=function(e,n){var o,r=t.prototype.Bindings[e][n].elems;r.forEach(function(r){o="input"===r.tagName.toLowerCase()?"value":"innerHTML",r[o]=t.prototype.Bindings[e][n].value}),r=null,o=null},t.prototype._id=0,t.prototype.getId=function(){return t.prototype._id++},t.prototype.setId=function(e){null==e[r]&&Object.defineProperty(e,r,{value:t.prototype.getId()})},{Bind:t,Model:o}}();
"use strict";var iqwerty=iqwerty||{};iqwerty.dragdrop=function(){function t(t){function n(){d.classList.add(e)}function i(){d.classList.remove(e)}function r(t){t.stopPropagation(),t.preventDefault(),n()}function o(t){t.stopPropagation(),t.preventDefault(),i()}function a(t){o(t);var e=t.target.files||t.dataTransfer.files;e=[].slice.call(e),"function"==typeof s&&s(e),e=null}window.File&&window.FileList&&window.FileReader||console.log("File upload not supported");var d=document.getElementById(t);d.addEventListener("dragover",r.bind(this)),d.addEventListener("dragleave",o.bind(this)),d.addEventListener("drop",a.bind(this));var s=null;return this.setOnDropCallback=function(t){s=t},this}var e="iqwerty_dragdrop_over";return{DragDrop:t}}();
"use strict";var iqwerty=iqwerty||{};iqwerty.history=function(){function t(t,n){this.state=t,this.$$length=n}function n(t,n,e){return t=u()+(h===c?c:"")+t,n=n||document.title,e=e||null,window.history.pushState?void(l()!==t&&(window.history.pushState(e,n,t),i())):console.error("History API not supported")}function e(){window.history.back()}function r(n,e){e&&(h=e.base),t.prototype.states=n,i(),window.addEventListener("popstate",function(){i()})}function i(){var n=t.prototype.states,e=o(n);if(e){var r=e.state.split(":")[0];r=a().split(r)[1],n[e.state](r||null)}}function o(n){var e=Object.keys(n).map(function(n){if(""===n)return new t(n,0);var e=n.split(":")[0],r=0===a().indexOf(e)?e.length:-1;return new t(n,r)}).reduce(function(t,n){return-1===t.$$length?null:t.$$length>=n.$$length?t:n});return a()&&-1===e.$$length?(console.warn("Current state is unhandled"),null):e}function s(){return window.location.pathname}function u(){return h===c?s():h}function a(){var t;return h===c?(t=window.location.hash,t=t.split(c)[1]):t=s().split(u())[1],t?("/"===t.substr(-1)&&(t=t.substring(0,t.length-1)),t):""}function l(){return u()+a()}var c="#!/",h=c;return t.prototype.states={},{Push:n,Pop:e,States:r}}();
"use strict";function $http(t){function n(t,n,c){if(t===o.GET){var i=iqwerty.http.Cache().getCache(n);if(null!=i)return"function"==typeof r.onLoad?r.onLoad(i):void 0}var a,s=new XMLHttpRequest;t===o.GET?(n=function(t,n){if(!n)return t;var o=t+"?",e=0;for(var r in n)n.hasOwnProperty(r)&&(e++&&(o+="&"),o+=encodeURIComponent(r)+"="+encodeURIComponent(n[r]));return o}(n,c),a=null):(a=new FormData,Object.keys(c).forEach(function(t){a.append(t,c[t])})),"function"==typeof r.onLoadStart&&(s.onloadstart=function(){r.onLoadStart(this.readyState)}),"function"==typeof r.onProgress&&(s.upload.onprogress=function(t){r.onProgress(t)}),"function"==typeof r.onError&&(s.onerror=function(){r.onError(this.status)}),s.onload=function(){u.cache&&t===o.GET&&iqwerty.http.Cache().setCache(n,this.response),"function"==typeof r.onLoad&&(this.status===e.OK?r.onLoad(this.response):"function"==typeof r.onError&&r.onError(this.status)),s=null,a=null,r=null},s.open(t,n,!0),s.send(a)}var o={GET:"get",POST:"post",PUT:"put",DELETE:"delete"},e={OK:200},r={},u={};return{cache:function(){return u.cache=!0,this},begin:function(t){return r.onLoadStart=t,this},progress:function(t){return r.onProgress=t,this},success:function(t){return r.onLoad=t,this},error:function(t){return r.onError=t,this},get:function(e){return n(o.GET,t,e)},post:function(e){return n(o.POST,t,e)},put:function(e){return n(o.PUT,t,e)},"delete":function(e){return n(o.DELETE,t,e)}}}var iqwerty=iqwerty||{};iqwerty.http=function(){function t(){var n={};return n.getCache=function(n){return t.prototype.cached[Object.keys(t.prototype.cached).find(function(t){return n===t})]},n.setCache=function(o,e){null==n.getCache(o)&&(t.prototype.cached[o]=e)},n}return t.prototype.cached={},{Request:$http,Cache:t}}();
"use strict";var iqwerty=iqwerty||{};iqwerty.template=function(){function e(){setTimeout(function(){if("undefined"==typeof $http)return void console.error("$http is not defined. Remember to include the iQwerty $http library in your code. Get it here https://github.com/mlcheng/js-http");var e=document.querySelectorAll("["+n+"]");[].slice.call(e).forEach(function(e){var n=e.dataset.iqTemplateSrc,r=e.dataset.iqTemplateLoaded;r=window[r],t(n,e,r)})},0)}function t(e,t,n){return"undefined"==typeof $http?console.log("The $http library is required. Get it here https://github.com/mlcheng/js-http"):void $http(e).success(function(e){t&&t.insertAdjacentHTML("afterbegin",e),"function"==typeof n?n(e):null!=n&&console.error("Your callback is not defined")}).error(function(){return console.warn("Could not retrieve template")}).cache().get()}var n="data-iq-template-src";return{GetTemplates:e,GetTemplate:t}}(),document.addEventListener("DOMContentLoaded",iqwerty.template.GetTemplates);
"use strict";function _typeof(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function Test(t){function e(e){var o={};return o.to=function(o){Test.prototype.showResult(t,o,e,n)},o.toBe=o.to,o.toHave=o.to,o}var n,o={};return o.using=function(t){return n=t,o},o["do"]=function(t){return"function"==typeof t&&t(),o},o.expect=function(t){return new e(t)},o}Test.prototype.output=null,Test.prototype.showResult=function(t,e,n,o){var r=Test.prototype.createResult(t,e,n,o||Test.ValidationFunction.EQUALS);Test.prototype.output?Test.prototype.output.appendChild(r):console.log(r)},Test.prototype.createResult=function(t,e,n,o){var r=o.call(void 0,e,n),u=Test.prototype.output?{wrapperBegin:"<strong>",wrapperEnd:"</strong>",newLine:"<br>"}:{wrapperBegin:'"',wrapperEnd:'"',newLine:"\n  >> "},i="";o!==Test.ValidationFunction.EQUALS&&(i=" (using custom validation function)");var p,s="Testing: "+t+i+u.newLine;if(r?(s+="âœ” Passed!",p="#c8e6c9"):(s+="ðŸ˜« Failed. Expected "+u.wrapperBegin+e+u.wrapperEnd+" ("+("undefined"==typeof e?"undefined":_typeof(e))+"), got "+u.wrapperBegin+n+u.wrapperEnd+" ("+("undefined"==typeof n?"undefined":_typeof(n))+") instead.",p="#ff8a80"),Test.prototype.output){var c=document.createElement("div");Test.prototype.stylize(c,{"line-height":"1.5em",margin:"0.5em 0",padding:"0.5em",background:p}),c.insertAdjacentHTML("beforeend",s),s=c}return r=null,p=null,s},Test.prototype.stylize=function(t,e){Object.keys(e).forEach(function(n){t.style[n]=e[n]})},Test.config=function(){var t={};return t.output=function(t){t instanceof HTMLElement&&(Test.prototype.output=t)},t}(),Test.ValidationFunction={EQUALS:function(t,e){return t===e},CONTAINS:function(t,e){return~e.indexOf(t)}};
"use strict";var iqwerty=iqwerty||{};iqwerty.toast=function(){function t(o,r,i){if(null!==e())t.prototype.toastQueue.push({text:o,options:r,transitions:i});else{t.prototype.Transitions=i||n;var a=r||{};a=t.prototype.mergeOptions(t.prototype.DEFAULT_SETTINGS,a),t.prototype.show(o,a),a=null}}function e(){return i}function o(t){i=t}var r=400,n={SHOW:{"-webkit-transition":"opacity "+r+"ms, -webkit-transform "+r+"ms",transition:"opacity "+r+"ms, transform "+r+"ms",opacity:"1","-webkit-transform":"translateY(-100%) translateZ(0)",transform:"translateY(-100%) translateZ(0)"},HIDE:{opacity:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)"}},i=null;return t.prototype.DEFAULT_SETTINGS={style:{main:{background:"rgba(0, 0, 0, .85)","box-shadow":"0 0 10px rgba(0, 0, 0, .8)","border-radius":"3px","z-index":"99999",color:"rgba(255, 255, 255, .9)",padding:"10px 15px","max-width":"60%","word-break":"keep-all",margin:"0 auto","text-align":"center",position:"fixed",left:"0",right:"0",bottom:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)","-webkit-filter":"blur(0)",opacity:"0"}},settings:{duration:4e3}},t.prototype.Transitions={},t.prototype.toastQueue=[],t.prototype.timeout=null,t.prototype.mergeOptions=function(e,o){var r=o;for(var n in e)r.hasOwnProperty(n)?null!==e[n]&&e[n].constructor===Object&&(r[n]=t.prototype.mergeOptions(e[n],r[n])):r[n]=e[n];return r},t.prototype.generate=function(r,n){var i=document.createElement("div");"string"==typeof r&&(r=document.createTextNode(r)),i.appendChild(r),o(i),i=null,t.prototype.stylize(e(),n)},t.prototype.stylize=function(t,e){Object.keys(e).forEach(function(o){t.style[o]=e[o]})},t.prototype.show=function(o,r){this.generate(o,r.style.main);var n=e();document.body.insertBefore(n,document.body.firstChild),n.offsetHeight,t.prototype.stylize(n,t.prototype.Transitions.SHOW),n=null,clearTimeout(t.prototype.timeout),t.prototype.timeout=setTimeout(t.prototype.hide,r.settings.duration)},t.prototype.hide=function(){var o=e();t.prototype.stylize(o,t.prototype.Transitions.HIDE),clearTimeout(t.prototype.timeout),o.addEventListener("transitionend",t.prototype.animationListener),o=null},t.prototype.animationListener=function(){e().removeEventListener("transitionend",t.prototype.animationListener),t.prototype.destroy.call(this)},t.prototype.destroy=function(){var r=e();if(document.body.removeChild(r),r=null,o(null),t.prototype.toastQueue.length>0){var n=t.prototype.toastQueue.shift();t(n.text,n.options,n.transitions),n=null}},{Toast:t}}();
"use strict";var iqwerty=iqwerty||{};iqwerty.snackbar=function(){function t(e,r,n,a){var i=a||{};i=t.prototype.mergeOptions(t.prototype.DEFAULT_SETTINGS,i);var c=t.prototype.configureAction(e,r,n,i.style.cta);iqwerty.toast.Toast.call(this,c,i,o),c=null,i=null}var e=400,o={SHOW:{transition:"opacity "+e+"ms",opacity:"1"},HIDE:{opacity:"0"}};return t.prototype=Object.create(iqwerty.toast.Toast.prototype),t.prototype.DEFAULT_SETTINGS={style:{main:{position:"fixed",left:"0",right:"0",bottom:"0",margin:"0","max-width":"600px",background:"#212121",color:"#e0e0e0","box-shadow":"none","border-radius":"0",padding:".8em",display:"flex","flex-flow":"row nowrap","justify-content":"space-between","text-align":"left",opacity:"0","-webkit-transform":"none",transform:"none"},cta:{color:"#f48fb1","letter-spacing":"1px","text-transform":"uppercase",margin:"0 1em",cursor:"pointer"}},settings:{duration:1e4}},t.prototype.configureAction=function(e,o,r,n){var a=this,i=document.createDocumentFragment();i.appendChild(document.createTextNode(e));var c=document.createElement("span");return t.prototype.stylize(c,n),c.addEventListener("click",function(){a.hide(),a=null,r()}),c.appendChild(document.createTextNode(o)),i.appendChild(c),i},{Snackbar:t}}();