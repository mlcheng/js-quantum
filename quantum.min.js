function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){"use strict";var e=function(){var t,e,n,r,o="__iqdb",a="model",i="bindings",u="watchers",c="el",f="attrs",s="changer",l="value",d={dataset:"^data-",variable:"([^{}]+)",obj:"{ *?([^{}]+) *?}"},p={bindIncomplete:{cc:"iqBindIncomplete",dash:"data-iq-bind-incomplete"},bindTo:{cc:"iqBindTo",dash:"data-iq-bind-to"},bind:{cc:"iqBind",dash:"data-iq-bind"},bindComplete:{cc:"iqBindComplete",dash:"data-iq-bind-complete"}},h={"input:not([type=checkbox])":(t={},_defineProperty(t,s,["change","input"]),_defineProperty(t,l,"value"),t),"input[type=checkbox]":(e={},_defineProperty(e,s,["change","input"]),_defineProperty(e,l,"checked"),e),textarea:(n={},_defineProperty(n,s,["change","input"]),_defineProperty(n,l,"value"),n),"[contenteditable]":(r={},_defineProperty(r,s,["change","input"]),_defineProperty(r,l,"textContent"),r)},y=function(t){return t.filter((function(t){return t}))},m=function(t){return"string"==typeof t||"boolean"==typeof t?t:JSON.stringify(t,null,2)},v={};function b(t,e){try{Object.defineProperty(t,e,{get:function(){return t[o][e][a]},set:function(n){var r=g(t,e);!function(t,e,n){t[o][e][a]=n}(t,e,n),w(t,e,n),function(t,e,n,r){n!==r&&t[o][e][u].forEach((function(t){t(n,r)}))}(t,e,n,r)}})}catch(t){}}function g(t,e){return t[o][e][a]}function w(t,e,n){null==n&&(n=""),t[o][e][i].forEach((function(t){t[f].forEach((function(e){var r=t[c];if(new RegExp(d.dataset).test(e)){var o=e.replace(new RegExp(d.dataset),"");r.dataset[o]!==n&&(r.dataset[o]=m(n))}else r[e]!==n&&(r[e]=m(n))}))}))}function x(t){var e=new RegExp(d.obj,"g"),n=t.innerHTML;n=n.replace(e,(function(e){var n=function(t,e){return Array.from(e.querySelectorAll("*")).find((function(e){return!e.firstElementChild&&e.textContent===t}))||e}(e,t);return p.bindIncomplete.cc in n.dataset?e:"<span ".concat(p.bindIncomplete.dash,">").concat(e,"</span>")})),t.innerHTML!==n&&(t.innerHTML=n)}function E(t,e){var n,r,i=new RegExp(e,"g").exec(t)[1].trim().split("."),u=(n=i.shift(),v[n]),c=u;return void 0!==u&&i.forEach((function(t,e){e<i.length-1?c=c[t]||c[o][t][a]:r=t})),{obj:c,prop:r}}function _(t,e,n,r){n=Array.isArray(n)?n:y([n]),r=Array.isArray(r)?r:y([r]),function(t){t.hasOwnProperty(o)||(t[o]={})}(t),function(t,e){var n;t[o].hasOwnProperty(e)||(t[o][e]=(_defineProperty(n={},a,t[e]),_defineProperty(n,i,[]),_defineProperty(n,u,[]),n))}(t,e),function(t,e,n){var r=t[o][e];n.forEach((function(n){var o=r[i].find((function(t){return t[c]===n[c]}));if(o){var a;n[f]=n[f].filter((function(t){return!~o[f].indexOf(t)})),(a=o[f]).push.apply(a,_toConsumableArray(n[f]))}else{r[i]=r[i].concat(n);var u=Object.keys(h).find((function(t){return Array.from(document.querySelectorAll(t)).some((function(t){return t===n[c]}))}));u&&h[u][s].forEach((function(r){n[c].addEventListener(r,(function(){t[e]=n[c][h[u][l]]}))}))}}))}(t,e,n),function(t,e,n){var r,a=t[o][e];a[u]=(r=a[u]).concat.apply(r,_toConsumableArray(n))}(t,e,r),b(t,e),w(t,e,g(t,e))}return{bind:_,watch:function(t,e,n){_(t,e,null,n)},model:function(t){Object.keys(t).forEach((function(e){var n,r;n=e,r=t[e],v[n]=r})),"undefined"!=typeof document&&setTimeout((function(){var t;t=document.querySelectorAll("[".concat(p.bindTo.dash,"]")),Array.from(t).forEach((function(t){t.dataset[p.bindTo.cc].split(";").forEach((function(e){var n,r=e.split(":"),o=r[0].split(",");o=o.map((function(t){return t.trim()}));var a=E(r[1],d.variable),i=a.obj,u=a.prop;(i||u)&&_(i,u,(_defineProperty(n={},c,t),_defineProperty(n,f,o),n))}))})),function(){var t=document.querySelectorAll("[".concat(p.bind.dash,"]:not([").concat(p.bindComplete.dash,"])")),e=function(t,e,n){var r;(t||e)&&(_(t,e,(_defineProperty(r={},c,n),_defineProperty(r,f,["innerHTML"]),r)),delete n.dataset[p.bindIncomplete.cc])};Array.from(t).forEach((function(t){if(x(t),""!==t.dataset[p.bind.cc]){var n=E(t.dataset[p.bind.cc],d.variable),r=n.obj,o=n.prop;e(r,o,t)}t.dataset[p.bindComplete.cc]="true"})),t=document.querySelectorAll("[".concat(p.bindIncomplete.dash,"]")),Array.from(t).forEach((function(t){var n=E(t.innerHTML,d.obj),r=n.obj,o=n.prop;e(r,o,t)}))}()}))}}}();function n(){this.head=null,this.tail=null;var t=this;return{enqueue:function(e){null===t.head?(t.head=e,t.tail=e):(e.prev=t.tail,t.tail.next=e,t.tail=e)},dequeue:function(){if(t.head){var e=t.head;return t.head.next.prev=null,t.head=t.head.next,e.next=null,e}return null},promote:function(e){t.tail!==e&&(t.head===e?(t.head.next.prev=null,t.head=t.head.next):(e.prev.next=e.next,e.next.prev=e.prev),e.prev=t.tail,e.next=null,t.tail.next=e,t.tail=e)},export:function(){for(var e=t.head,n=[];e;)n.push(e.value),e=e.next;return n}}}var r,o=function(){function t(t){this.prev=null,this.next=null,this.value=t}return{Cache:function(e){var r={},o={};function a(){o.lru=new n,o.map={}}return a(),r.add=function(n,r){if(o.map.hasOwnProperty(n)){var a=o.map[n];a.value.value=r,o.lru.promote(a)}else{if(Object.keys(o.map).length+1>e){var i=o.lru.dequeue();delete o.map[i.value.key]}var u=new t({key:n,value:r});o.lru.enqueue(u),o.map[n]=u}},r.get=function(t){var e=o;if(e.map.hasOwnProperty(t))return e.lru.promote(e.map[t]),e.map[t].value.value},r.valueExists=function(t){return Object.keys(o.map).some((function(e){return o.map[e].value.value===t}))},r.keys=function(){return Object.keys(o.map)},r.values=function(){var t=o.map;return Object.keys(t).map((function(e){return t[e].value.value}))},r.export=function(){return o.lru.export()},r.purge=function(){a()},r}}}(),a=function(){var t=Number.MAX_SAFE_INTEGER,e={CHAR:"",WORD:"(\\s)",LINE:"(\\n)"},n=e.CHAR,r="from",o="to",a="levenshteinDistance",i="changes",u="splitter";function c(t){Object.assign(this,t)}return c.prototype.toString=function(){return function(t){var e=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];"object"===_typeof(r.diff)?(e.push({char:r.char,diff:"-"}),e.push({char:r.diff.replacedBy,diff:"+"})):e.push(r)}return e}(t.changes);e=function(t){for(var e="",n="",r="",o=[],a=0;a<t.length;a++)"="!==t[a].diff?(r&&(o.push({char:r,diff:"="}),r=""),"-"===t[a].diff?e+=t[a].char:n+=t[a].char):(e&&(o.push({char:e,diff:"-"}),e=""),n&&(o.push({char:n,diff:"+"}),n=""),r+=t[a].char);e&&o.push({char:e,diff:"-"});n&&o.push({char:n,diff:"+"});r&&o.push({char:r,diff:"="});return o}(e);for(var n="",r="",o=0;o<e.length;o++){var a=e[o];if("="===a.diff)n+=a.char,r+=a.char;else{var i="(".concat(a.diff).concat(a.char,")");n+=i,r+='<span class="iqwerty-diff-'.concat("+"===a.diff?"add":"remove",'">').concat(i,"</span>")}}return{plainText:n,richText:r}}(this)},{diff:function(e,f){var s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,d=e.match(new RegExp(l));d=d?d.shift():"",e=e.split(new RegExp(l,"g")),f=f.split(new RegExp(l,"g"));for(var p=[],h=0;h<=e.length;h++){p[h]=[];for(var y=0;y<=f.length;y++)p[h][y]=0===h?y:0===y?h:0}for(var m,v,b,g=1;g<=e.length;g++)for(var w=1;w<=f.length;w++)m=p[g][w-1],v=p[g-1][w-1],b=p[g-1][w],e[g-1]===f[w-1]?p[g][w]=v:p[g][w]=Math.min(m,v,b)+1;for(var x,E,_,A,T,k,P=[],S=e.length,L=f.length;S>0||L>0;)e[S-1]===f[L-1]?(T=e[S-1],k="=",S--,L--):(_=S-1<0?t:p[S-1][L],x=L-1<0?t:p[S][L-1],E=S-1<0||L-1<0?t:p[S-1][L-1],(A=Math.min(x,_,E))===x?(T=f[L-1],k="+",L--):A===_?(T=e[S-1],k="-",S--):A===E&&(T=e[S-1],k={replacedBy:f[L-1]},S--,L--)),P.push({char:T,diff:k});return new c((_defineProperty(s={},r,e),_defineProperty(s,o,f),_defineProperty(s,i,P.reverse()),_defineProperty(s,a,p[e.length][f.length]),_defineProperty(s,u,d),s))},SplitBy:e}}(),i={setTarget:function(t){if(window.File&&window.FileList&&window.FileReader||console.warn("File upload not supported"),!t)return console.warn("The drop target does not exist");t.addEventListener("dragover",(function(e){return function(e){e.stopPropagation(),e.preventDefault(),t.classList.add("iqwerty-dragdrop-over")}(e)})),t.addEventListener("dragleave",(function(t){return n(t)})),t.addEventListener("drop",(function(t){return function(t){n(t);var r=t.target.files||t.dataTransfer.files;r=[].slice.call(r),"function"==typeof e&&e(r)}(t)}));var e=null;function n(e){e.stopPropagation(),e.preventDefault(),t.classList.remove("iqwerty-dragdrop-over")}return{setOnDropCallback:function(t){e=t}}}},u=function(){var t={},e="#!/";function n(t,e){this.state=t,this.$$length=e}function r(){var e=function(t){var e=Object.keys(t).map((function(t){if(""===t)return new n(t,0);var e=t.split(":")[0];return new n(t,0===i().indexOf(e)?e.length:-1)})).reduce((function(t,e){return-1===t.$$length?null:t.$$length>=e.$$length?t:e}),{});if(i()&&-1===e.$$length)return console.warn("Current state is unhandled"),null;return e}(t);if(e){var r=e.state.split(":")[0];r=i().split(r)[1],t[e.state](r||void 0)}}function o(){return window.location.pathname}function a(){return"#!/"===e?o():e}function i(){var t;return(t="#!/"===e?(t=window.location.hash).split("#!/")[1]:o().split(a())[1])?("/"===t.substr(-1)&&(t=t.substring(0,t.length-1)),t):""}return{pushState:function(t,n,o){var u=a()+("#!/"===e?"#!/":"")+t;if(n=n||document.title,o=o||null,!window.history.pushState)throw new Error("History API not supported");i()!==t&&(window.history.pushState(o,n,u),r())},popState:function(){window.history.back()},setStates:function(n,o){o&&(e=o.base),Object.keys(n).forEach((function(e){t[e]=n[e]})),r(),window.addEventListener("popstate",(function(){r()}))}}}(),c=(r=new o.Cache(30),{request:function(t){var e="get",n="post",o="put",a="delete",i=200,u={},c={};function f(t,n,o){var a,f=new XMLHttpRequest;if(t===e?(n=function(t,e){if(!e)return t;var n=t+"?",r=0;for(var o in e)e.hasOwnProperty(o)&&(r++&&(n+="&"),n+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n}(n,o),a=null):o&&(a=new FormData,Object.keys(o).forEach((function(t){a.append(t,o[t])}))),t===e){var s=r.get(n);if(null!=s)return"function"==typeof u.onLoad?u.onLoad(s):Promise.resolve(s)}return"function"==typeof u.onLoadStart&&(f.onloadstart=function(){u.onLoadStart(this.readyState)}),"function"==typeof u.onProgress&&(f.upload.onprogress=function(t){u.onProgress(t)}),new Promise((function(o,s){"function"==typeof u.onError&&(f.onerror=function(){u.onError(this.status),s(this.status)}),f.onload=function(){c.cache&&t===e&&r.add(n,this.response),"function"==typeof u.onLoad&&(this.status===i?u.onLoad(this.response):"function"==typeof u.onError&&u.onError(this.status)),this.status===i?o(this.response):s(this.status)},f.open(t,n,!0),f.send(a)}))}return{cache:function(){return c.cache=!0,this},begin:function(t){return u.onLoadStart=t,this},progress:function(t){return u.onProgress=t,this},success:function(t){return u.onLoad=t,this},error:function(t){return u.onError=t,this},get:function(n){return f(e,t,n)},post:function(e){return f(n,t,e)},put:function(e){return f(o,t,e)},delete:function(e){return f(a,t,e)}}}});function f(t,e){var n=e;for(var r in t)n.hasOwnProperty(r)?null!==t[r]&&t[r].constructor===Object&&(n[r]=f(t[r],n[r])):n[r]=t[r];return n}function s(t,e){Object.keys(e).forEach((function(n){t.style[n]=e[n]}))}window.$http||(window.$http=c.request);var l,d,p,h=function(){var t,e,n={SHOW:{"-webkit-transition":"opacity 400ms, -webkit-transform 400ms",transition:"opacity 400ms, transform 400ms",opacity:"1","-webkit-transform":"translateY(-100%) translateZ(0)",transform:"translateY(-100%) translateZ(0)"},HIDE:{opacity:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)"}},r={style:{main:{background:"rgba(0, 0, 0, .85)","box-shadow":"0 0 10px rgba(0, 0, 0, .8)","border-radius":"3px","z-index":"99999",color:"rgba(255, 255, 255, .9)","font-family":"sans-serif",padding:"10px 15px","max-width":"60%",width:"100%","word-break":"keep-all",margin:"0 auto","text-align":"center",position:"fixed",left:"0",right:"0",bottom:"0","-webkit-transform":"translateY(150%) translateZ(0)",transform:"translateY(150%) translateZ(0)","-webkit-filter":"blur(0)",opacity:"0"}},settings:{duration:4e3}},o=[];function a(t,a,u){var d=u||n;if(void 0!==c())o.push({text:t,options:a,transitions:d});else{var p=a||{};(function(t,n,r){!function(t,e){var n=document.createElement("div");"string"==typeof t&&(t=document.createTextNode(t));n.appendChild(t),l(n),s(c(),e)}(t,n.style.main);var o=c();document.body.insertBefore(o,document.body.firstChild),o.offsetHeight,s(o,r.SHOW),clearTimeout(e),0!==n.settings.duration&&(e=setTimeout((function(){return i(r)}),n.settings.duration))})(t,p=f(r,p),d)}return{hide:function(){return i(d)}}}function i(t){var n=c();s(n,t.HIDE),clearTimeout(e),n.addEventListener("transitionend",u,{once:!0})}function u(){var t=c();if(document.body.removeChild(t),l(void 0),o.length>0){var e=o.shift();a(e.text,e.options,e.transitions)}}function c(){return t}function l(e){t=e}return{toast:a}}(),y=(d={SHOW:{transition:"opacity 400ms",opacity:"1"},HIDE:{opacity:"0"}},p={style:{main:{position:"fixed",left:"0",right:"0",bottom:"0",margin:"0","max-width":"600px",background:"#212121",color:"#e0e0e0","box-shadow":"none","border-radius":"0",padding:".8em",display:"flex","flex-flow":"row nowrap","align-items":"center","justify-content":"space-between","text-align":"left",opacity:"0","-webkit-transform":"none",transform:"none"},cta:{color:"#f48fb1","letter-spacing":"1px","text-transform":"uppercase",margin:"0 1em",cursor:"pointer"}},settings:{duration:1e4}},{snackbar:function(t,e,n,r){var o=r||{},a=function(t,e,n,r){var o=document.createDocumentFragment();o.appendChild(document.createTextNode(t));var a=document.createElement("span");return s(a,r),a.addEventListener("click",(function(){l.hide(),n&&n()})),a.appendChild(document.createTextNode(e)),o.appendChild(a),o}(t,e,n,(o=f(p,o)).style.cta);return l=h.toast(a,o,d)}}),m=function(){function t(t,e,n){c.request(t).cache().get().then((function(t){n&&n.insertAdjacentHTML("afterbegin",t),"function"==typeof e?e(t):null!=e&&console.error("Your callback is not defined")})).catch((function(){return console.warn("Could not retrieve template")}))}return{loadTemplate:t,loadTemplates:function(){setTimeout((function(){_toConsumableArray(document.querySelectorAll("[data-iq-template-src]")).forEach((function(e){t(e.dataset.iqTemplateSrc,function(t){if(t){var e=t.split(".");if(1===e.length)return window[t];var n=window[e.shift()],r=e.pop();return(n=e.reduce((function(t,e){return t[e]}),n))[r]}}(e.dataset.iqTemplateLoaded),e)}))}))}}}();document.addEventListener("DOMContentLoaded",m.loadTemplates),t.binding=e,t.cache=o,t.diff=a,t.dragdrop=i,t.history=u,t.http=c,t.mergeOptions=f,t.snackbar=y,t.stylize=s,t.template=m,t.toast=h}(this.iqwerty=this.iqwerty||{});
